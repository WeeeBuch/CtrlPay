<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:vm="using:CtrlPay.Avalonia.ViewModels"
             xmlns:hc="using:CtrlPay.Avalonia.HelperClasses"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             x:DataType="vm:TransactionViewModel"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             mc:Ignorable="d"
             d:DesignHeight="720" d:DesignWidth="1200"
             Background="{DynamicResource Color.Background}"
             x:Class="CtrlPay.Avalonia.TransactionView">
	<Grid ColumnDefinitions="280, *">
		<Border Grid.Column="0" BorderThickness="0,0,1,0" Padding="20">
			<StackPanel Spacing="20">
				<TextBox  Height="35" Text="{Binding SearchTerm}"/>

				<Border BorderBrush="{DynamicResource Color.Border}" BorderThickness="1" Padding="10" CornerRadius="4">
					<StackPanel Spacing="10">
						<TextBlock Text="{DynamicResource DebtView.Sorting}" FontWeight="Bold" Opacity="0.6" Margin="0,0,0,5"/>

						<ListBox Background="Transparent"
                                 BorderThickness="0"
                                 SelectedIndex="0"
                                 SelectedItem="{Binding SelectedSortOrder}"
                                 ItemsSource="{Binding SortOptions}">
							<ListBox.Styles>
								<Style Selector="ListBoxItem">
									<Setter Property="Padding" Value="10,5"/>
									<Setter Property="Margin" Value="0,2"/>
									<Setter Property="CornerRadius" Value="4"/>
								</Style>
							</ListBox.Styles>
							<ListBox.ItemTemplate>
								<DataTemplate x:DataType="hc:SortOption">
									<TextBlock Text="{Binding DisplayName}"
                                               VerticalAlignment="Center"
                                               FontSize="14"/>
								</DataTemplate>
							</ListBox.ItemTemplate>
						</ListBox>
					</StackPanel>
				</Border>
			</StackPanel>
		</Border>

		<ScrollViewer Grid.Column="1" Padding="0">
			<ItemsControl ItemsSource="{Binding Debts}">
				<ItemsControl.ItemTemplate>
					<DataTemplate x:DataType="hc:TransactionItem">
						<Border Classes="customerCard"
								Margin="0,0,10,8"
								Padding="15,0"
								Height="60">
							<Grid ColumnDefinitions="Auto, *, Auto">

								<Border Grid.Column="0"
										Classes="indicator"
										Tag="{Binding Status}"
										CornerRadius="2"
										Height="24"
										Width="4"
										VerticalAlignment="Center"
										Margin="0,0,15,0"/>

								<StackPanel Grid.Column="1" VerticalAlignment="Center">
									<TextBlock Text="{Binding Description}"
											   FontSize="15"
											   FontWeight="Medium"
											   Foreground="{DynamicResource Brush.Text.Primary}"
											   TextTrimming="CharacterEllipsis"/>
								</StackPanel>

								<StackPanel Grid.Column="2"
											Orientation="Horizontal"
											VerticalAlignment="Center"
											HorizontalAlignment="Right">
									<TextBlock Text="{Binding Amount, StringFormat=\{0:N12\}}"
											   FontSize="18"
											   FontWeight="Bold"
											   Foreground="{DynamicResource Brush.Text.Primary}"/>
									<TextBlock Text="{DynamicResource App.Currency}"
											   Margin="6,0,0,2"
											   VerticalAlignment="Bottom"
											   FontSize="12"
											   Foreground="{DynamicResource Brush.Text.Secondary}"/>
								</StackPanel>

							</Grid>
						</Border>
					</DataTemplate>
				</ItemsControl.ItemTemplate>
			</ItemsControl>
		</ScrollViewer>
	</Grid>
</UserControl>